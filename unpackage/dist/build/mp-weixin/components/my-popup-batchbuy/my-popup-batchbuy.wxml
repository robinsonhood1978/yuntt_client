<view class="data-v-4b2d4bde"><view class="bgf top-round-edge pt5 goods-specs data-v-4b2d4bde"><uni-icons class="ml10 absolute data-v-4b2d4bde" vue-id="b0621438-1" type="closeempty" size="44" data-event-opts="{{[['^click',[['close']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons><block wx:if="{{title}}"><view class="uni-bold uni-center f-16 pt5 pb10 data-v-4b2d4bde">{{title}}</view></block><view class="uni-flex uni-row width-between info data-v-4b2d4bde"><view class="uni-flex uni-row pd10 data-v-4b2d4bde"><view class="image data-v-4b2d4bde"><image src="{{goods.image||goods.default_image}}" mode="widthFix" class="data-v-4b2d4bde"></image></view><view class="uni-flex uni-column ml10 data-v-4b2d4bde"><text class="l-h20 f-15 line-clamp-2 uni-bold data-v-4b2d4bde">{{goods.goods_name}}</text><text class="f-gray data-v-4b2d4bde">{{"库存："+(goods.stock||0)+"件"}}</text><block wx:if="{{goods.promotion}}"><text class="f-red f-17 data-v-4b2d4bde">{{$root.f0}}</text></block><block wx:else><text class="f-red f-17 data-v-4b2d4bde">{{$root.f1}}</text></block></view></view></view><block wx:if="{{goods.spec_qty>0}}"><view class="pd10 data-v-4b2d4bde"><block wx:if="{{specs[fields.field.name]}}"><view class="uni-flex uni-column data-v-4b2d4bde"><text class="mr10 uni-bold f-15 f-c55 data-v-4b2d4bde">{{specs[fields.field.name]}}</text><scroll-view scroll-x="true" scroll-y="false" class="data-v-4b2d4bde"><view class="uni-flex uni-row data-v-4b2d4bde"><block wx:for="{{specs[fields.field.value]}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeSpec',['$0','$1','$2'],[[['specs.'+fields.field.value+'','',index]],'fields.field.value','fields.thefield.value']]]]]}}" class="{{['data-v-4b2d4bde','bgf l-h20 mr10 mt10 item flex-middle flex-center',specs.disabled[item[fields.field.value]]?'disabled':'',specs.selected[fields.field.value]==item[fields.field.value]?'selected':'']}}" bindtap="__e"><text class="{{['data-v-4b2d4bde',specs.destroy[item[fields.field.value]]?'destroy':'']}}">{{item[fields.field.value]}}</text></view></block></view></scroll-view></view></block><block wx:if="{{specs[fields.thefield.name]}}"><view class="uni-flex uni-column mt10 pt10 specline data-v-4b2d4bde"><text class="mr10 uni-bold f-15 f-c55 data-v-4b2d4bde">{{specs[fields.thefield.name]}}</text><scroll-view style="max-height:300rpx;min-height:100rpx;" scroll-x="false" scroll-y="true" class="data-v-4b2d4bde"><block wx:for="{{specs[fields.thefield.value]}}" wx:for-item="item" wx:for-index="key" wx:key="key"><view class="{{['data-v-4b2d4bde','uni-flex uni-row width-between pb5  flex-middle',index>0?'bt':'']}}"><view class="{{['data-v-4b2d4bde','mr10 mt10 width-surplus l-h20 item',specs.disabled[item[fields.thefield.value]]?'disabled':'',specs.selected[fields.thefield.value]==item[fields.thefield.value]?'selected':'']}}"><text class="{{['data-v-4b2d4bde',specs.destroy[item[fields.thefield.value]]?'destroy':'']}}">{{item[fields.thefield.value]}}</text></view><block wx:if="{{specs.disabled[item[fields.thefield.value]]}}"><view class="data-v-4b2d4bde"><block wx:if="{{specs.destroy[item[fields.thefield.value]]}}"><text class="mr10 pr10 uni-text-gray data-v-4b2d4bde">缺货中</text></block><block wx:else><text class="mr10 pr5 f-gray data-v-4b2d4bde">库存不足</text></block></view></block><block wx:else><view class="uni-flex uni-row popup-quantity flex-middle data-v-4b2d4bde"><uni-icons vue-id="{{'b0621438-2-'+key}}" type="minus-filled" size="50" color="#eeeeee" data-event-opts="{{[['^click',[['changeQty',['$event','$0','minus'],[[['specs.'+fields.thefield.value+'','',key]]]]]]]}}" bind:click="__e" class="data-v-4b2d4bde" bind:__l="__l"></uni-icons><input class="uni-center f-13 data-v-4b2d4bde" maxlength="3" type="number" data-event-opts="{{[['blur',[['changeQty',['$event','$0'],[[['specs.'+fields.thefield.value+'','',key]]]]]],['input',[['__set_model',['$0','$1','$event',[]],['quantity.list',[['specs.'+fields.thefield.value+'','',key,'spec_id']]]]]]]}}" value="{{quantity.list[item.spec_id]}}" bindblur="__e" bindinput="__e"/><uni-icons vue-id="{{'b0621438-3-'+key}}" type="plus-filled" size="50" color="#fc2b34" data-event-opts="{{[['^click',[['changeQty',['$event','$0','plus'],[[['specs.'+fields.thefield.value+'','',key]]]]]]]}}" bind:click="__e" class="data-v-4b2d4bde" bind:__l="__l"></uni-icons></view></block></view></block></scroll-view></view></block></view></block><block wx:else><view class="uni-flex uni-row flex-middle pd10 data-v-4b2d4bde"><view class="data-v-4b2d4bde"><text class="mr10 uni-bold f-15 f-c55 data-v-4b2d4bde">默认规格</text></view><view class="uni-flex uni-row popup-quantity flex-middle data-v-4b2d4bde"><uni-icons vue-id="b0621438-4" type="minus-filled" size="50" color="#eeeeee" data-event-opts="{{[['^click',[['changeQty',['$event','$0','minus'],['item']]]]]}}" bind:click="__e" class="data-v-4b2d4bde" bind:__l="__l"></uni-icons><input class="uni-center f-13 data-v-4b2d4bde" maxlength="3" type="number" data-event-opts="{{[['blur',[['changeQty',['$event','$0'],['item']]]],['input',[['__set_model',['$0','$1','$event',[]],['quantity.list','item.spec_id']]]]]}}" value="{{quantity.list[item.spec_id]}}" bindblur="__e" bindinput="__e"/><uni-icons vue-id="b0621438-5" type="plus-filled" size="50" color="#fc2b34" data-event-opts="{{[['^click',[['changeQty',['$event','$0','plus'],['item']]]]]}}" bind:click="__e" class="data-v-4b2d4bde" bind:__l="__l"></uni-icons></view></view></block><view class="uni-flex uni-row flex-middle width-between pd10 paymoney data-v-4b2d4bde"><view class="data-v-4b2d4bde"><block wx:if="{{batchbuy.price>=0}}"><text class="f-14 f-c60 data-v-4b2d4bde">{{"≥"+batchbuy.quantity+"件,"+$root.f2+"元/件"}}</text></block></view><text class="f-14 f-red data-v-4b2d4bde">{{"共"+quantity.total+"件, "+$root.f3+"元"}}</text></view><view class="pd10 data-v-4b2d4bde"><view data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" class="uni-center f-white uni-bold f-15 mybutton data-v-4b2d4bde" bindtap="__e">确定</view></view></view></view>